(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-myBackImg"],{"2fe9":function(e,t,n){"use strict";var a=n("619f"),o=n.n(a);o.a},"2fed":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".page[data-v-089745a2]{position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000}.bg-wrapper[data-v-089745a2]{display:flex;flex-direction:column;justify-content:center}.bg-size[data-v-089745a2]{width:%?750?%;height:%?750?%}.button-change-bg[data-v-089745a2]{background-color:#1e1e1e}.button-change-bg-touched[data-v-089745a2]{background-color:#646262}",""]),e.exports=t},"619f":function(e,t,n){var a=n("2fed");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("5b468948",a,!0,{sourceMap:!1,shadowMode:!1})},"7b0f":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"bg-wrapper",style:{height:e.screenHeight+"px"}},[n("v-uni-image",{staticClass:"bg-size",staticStyle:{"align-self":"center"},attrs:{src:e.bgUrl}}),n("v-uni-view",{class:{"button-change-bg":!e.changeTouched,"button-change-bg-touched":e.changeTouched},staticStyle:{width:"250rpx",height:"80rpx","border-radius":"50px",display:"flex","flex-direction":"column","justify-content":"center","margin-top":"150rpx","align-self":"center"},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.touchstartChange.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.touchendChange.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeBg()}}},[n("v-uni-text",{staticStyle:{color:"#FFFFFF","align-self":"center"}},[e._v("更换背景")])],1)],1)],1)},o=[]},b126:function(e,t,n){"use strict";n.r(t);var a=n("e428"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},d32c:function(e,t,n){"use strict";n.r(t);var a=n("7b0f"),o=n("b126");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("2fe9");var s=n("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"089745a2",null,!1,a["a"],void 0);t["default"]=c.exports},e428:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=uni.getSystemInfoSync(),o=getApp(),i={data:function(){return{bgUrl:getApp().getUserInfoSession().bgImg,changeTouched:!1,screenHeight:a.safeArea.bottom}},onShow:function(){var e=o.getUserInfoSession().bgImg;o.isStrEmpty(e)&&(e="/static/images/defaultBgImg.png"),this.bgUrl=e},methods:{touchstartChange:function(){this.changeTouched=!0},touchendChange:function(){this.changeTouched=!1},changeBg:function(){var e=this,t=getApp().getUserInfoSession().id;uni.chooseImage({count:1,sizeType:["compressed"],crop:{quality:60,width:400,height:400},success:function(n){var a=n.tempFilePaths[0];e.bgUrl=a;var i=o.globalData.serverUrl;uni.uploadFile({header:{headerUserId:t,headerUserToken:o.getUserSessionToken()},url:i+"/userInfo/modifyImage?userId="+t+"&type=1",name:"file",filePath:a,success:function(e){if(200==e.statusCode){var t=JSON.parse(e.data);if(t.status=200){var n=t.data;o.setUserInfoSession(n),uni.navigateBack({delta:1,animationType:"fade-out"})}else uni.showToast({title:t.msg,icon:"error"})}else uni.showToast({title:"上传失败",icon:"error"})}})}})}}};t.default=i}}]);