(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-myFace"],{3518:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=uni.getSystemInfoSync(),o=getApp(),i={data:function(){return{faceUrl:getApp().getUserInfoSession().face,changeTouched:!1,screenHeight:a.safeArea.bottom}},methods:{touchstartChange:function(){this.changeTouched=!0},touchendChange:function(){this.changeTouched=!1},changeFace:function(){var e=this,t=getApp().getUserInfoSession().id;uni.chooseImage({count:1,sizeType:["compressed"],crop:{quality:60,width:300,height:300},success:function(n){var a=n.tempFilePaths[0];e.faceUrl=a;var i=o.globalData.serverUrl;uni.uploadFile({header:{headerUserId:t,headerUserToken:o.getUserSessionToken()},url:i+"/userInfo/modifyImage?userId="+t+"&type=2",name:"file",filePath:a,success:function(e){if(200==e.statusCode){var t=JSON.parse(e.data);if(t.status=200){var n=t.data;o.setUserInfoSession(n),uni.navigateBack({delta:1,animationType:"fade-out"})}else uni.showToast({title:t.msg,icon:"error"})}else uni.showToast({title:"上传失败",icon:"error"})}})}})}}};t.default=i},3552:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"bg-wrapper",style:{height:e.screenHeight+"px"}},[n("v-uni-image",{staticClass:"bg-size",staticStyle:{"align-self":"center"},attrs:{src:e.faceUrl}}),n("v-uni-view",{class:{"button-change-bg":!e.changeTouched,"button-change-bg-touched":e.changeTouched},staticStyle:{width:"250rpx",height:"80rpx","border-radius":"50px",display:"flex","flex-direction":"column","justify-content":"center","margin-top":"150rpx","align-self":"center"},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.touchstartChange.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.touchendChange.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeFace()}}},[n("v-uni-text",{staticStyle:{color:"#FFFFFF","align-self":"center"}},[e._v("更换头像")])],1)],1)],1)},o=[]},"480e":function(e,t,n){"use strict";n.r(t);var a=n("3552"),o=n("9594");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("fac6");var c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"56d0b0b8",null,!1,a["a"],void 0);t["default"]=s.exports},"6f54":function(e,t,n){var a=n("f051");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("3b9bbdf7",a,!0,{sourceMap:!1,shadowMode:!1})},9594:function(e,t,n){"use strict";n.r(t);var a=n("3518"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},f051:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".page[data-v-56d0b0b8]{position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000}.bg-wrapper[data-v-56d0b0b8]{display:flex;flex-direction:column;justify-content:center}.bg-size[data-v-56d0b0b8]{width:%?750?%;height:%?750?%}.button-change-bg[data-v-56d0b0b8]{background-color:#1e1e1e}.button-change-bg-touched[data-v-56d0b0b8]{background-color:#646262}",""]),e.exports=t},fac6:function(e,t,n){"use strict";var a=n("6f54"),o=n.n(a);o.a}}]);