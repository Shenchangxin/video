{"version":3,"sources":["webpack:///D:/BaiduNetdiskDownload/imooc-red-book/前端源码/RedBook-Dev/uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue?3a3b","webpack:///D:/BaiduNetdiskDownload/imooc-red-book/前端源码/RedBook-Dev/uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue?46e7","webpack:///D:/BaiduNetdiskDownload/imooc-red-book/前端源码/RedBook-Dev/uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue?3d4a","webpack:///D:/BaiduNetdiskDownload/imooc-red-book/前端源码/RedBook-Dev/uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue?4111","uni-app:///uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue","webpack:///D:/BaiduNetdiskDownload/imooc-red-book/前端源码/RedBook-Dev/uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue?2475","webpack:///D:/BaiduNetdiskDownload/imooc-red-book/前端源码/RedBook-Dev/uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue?7f28"],"names":["name","mixins","emits","props","title","type","default","beforeClose","thisVlogerId","thisVlogId","data","commentWrapperBlack","commentWrapperWhite","commentBoxBlack","commentBoxWhite","screenWidth","currentComment","scrollTop","old","activeIndex","bottomTxt","placeholder","commentFocus","thisFatherCommentId","thisVlogTotalComentCounts","loginUserId","page","totalPage","commentCounts","commentList","commentList2","vlogerId","commentUserNickname","commentUserFace","content","isLike","isOwner","likeCounts","createTime","created","console","userId","me","methods","freshCommentCounts","uni","method","url","success","unlike","header","headerUserId","headerUserToken","icon","duration","like","animation","animationType","reCountsCommentList","reLikeCommentList","deleteComment","loadMore","doCommentPagingList","typingComment","noTypingComment","replyComment","doCommentPublish","mask","position","vlogId","fatherCommentId","commentUserId","newCommentObject","getGraceNumber","getGraceDateBeforeNow","select","item","index","close","touchstartComment","touchendComment"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2I;AAC3I;AACsE;AACL;AACsC;;;AAGvG;AACmL;AACnL,gBAAgB,iLAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,yGAAM;AACR,EAAE,kHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,gpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACuSntB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAAA,eAEA;EACAA;EACAC;EACAC;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;EACA;EACAI;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACA;MACA;MACA;MACAC;MACAC;MACAC;MACAC;QACAD;MACA;MAEA;MACAE;MAEAC;MACAC;MACAC;MACAC;MAAA;;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,eACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAP;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAP;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IAEA;EACA;EACAC;IACAC;IAEA;IACA;IACA;IACA;MACAC;IACA;IACAC;IAEA;IACA;EACA;EACAC;IACAC;MACA;MACA;MAEA;MACAC;QACAC;QACAC;QACAC;UACAR;UAEA;YACAE;UACA;YACAA;UACA;UAEA;YACAA;UACA;YACAA;UACA;QAEA;MACA;IACA;IAEAO;MACA;MAEA;MACAJ;QACAC;QACAI;UACAC;UACAC;QACA;QACAL;QACAC;UACAR;UAEA;YACAE;YACAA;UACA;YACAG;cACAzC;cACAiD;cACAC;YACA;UACA;QACA;MACA;IACA;IAEAC;MACA;MAEA;MACA;QACAV;UACAW;QACA;QACAX;UACAS;UACAlD;UACAiD;QACA;QACAR;UACAE;UACAU;QACA;QACA;MACA;MAGA;MACAZ;QACAC;QACAI;UACAC;UACAC;QACA;QACAL;QACAC;UACAR;UAEA;YACAE;YACAA;UACA;YACAG;cACAzC;cACAiD;cACAC;YACA;UACA;QACA;MACA;IACA;IAEAI;MACA;MACA;MAEA7B;MACAA;MAEAa;IACA;IAEAiB;MACA;MACA;MAEA9B;MACAA;MAEAa;IACA;IAEAkB;MACA;MACA;MACA;MACA;MACA;QACA;MACA;MAEAf;QACAzC;QACA8B;QACAc;UACA;YACA;YACA;YACAH;cACAC;cACAI;gBACAC;gBACAC;cACA;cACAL;cACAC;gBACAR;gBAEA;kBACAE;gBACA;kBACAG;oBACAzC;oBACAiD;oBACAC;kBACA;gBACA;gBACAZ;cACA;YACA;UACA;YACA;UAAA;QAEA;MACA;IAEA;IACAmB;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACApB;MACA;MACA;MACA;MACAG;QACAC;QACAC;QACAC;UACAR;UAEA;YACA;YACA;YACA;;YAEA;cACAE;YACA;YACAA;YACAA;UAEA;YACAG;cACAzC;cACAiD;cACAC;YACA;UACA;QAEA;MACA;IACA;IAGA;IACAS;MACA;MACA;MACA;MACA;;MAEA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MAGA;MACA;QACArB;UACAW;QACA;QACAX;UACAS;UACAlD;UACAiD;QACA;QACAR;UACAE;UACAU;QACA;QACA;MACA;MAGA;QACAZ;UACAzC;UACA+D;UACAC;QACA;QACA;MACA;MAEA;QACAvB;UACAzC;UACA+D;UACAC;QACA;QACA;MACA;MAIA;MACA;MAEA;QACAC;QACAtC;QACAuC;QACAC;QACArC;MACA;MAEAW;QACAC;QACAI;UACAC;UACAC;QACA;QACAL;QACArC;QACAsC;UACAR;UAEA;YACA;YACAgC;YACAA;YACAA;YACAA;YACA;YACA;YACA;YACA;;YAEA9B;;YAEA;YACAA;;YAEA;YACAA;YACA;YACAA;YACA;YACAG;YACA;YACAH;;YAEA;YACAA;YACAA;cACAA;YACA;UACA;YACAG;cACAzC;cACAiD;cACAC;YACA;UACA;UAEAZ;QACA;MACA;IAEA;IACA;IACA+B;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IAGA;AACA;AACA;IACAC;MACA;QACAC;QACAC;MACA;MACA;IAEA;IACA;AACA;AACA;IACAC;MACA;MACA;MACAjC;QACAW;MACA;IACA;IAEAuB;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpxBA;AAAA;AAAA;AAAA;AAAk0C,CAAgB,uqCAAG,EAAC,C;;;;;;;;;;;ACAt1C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uni-popup-comments.vue?vue&type=template&id=9da5e18a&scoped=true&\"\nvar renderjs\nimport script from \"./uni-popup-comments.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-popup-comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uni-popup-comments.vue?vue&type=style&index=0&id=9da5e18a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9da5e18a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-popup/components/uni-popup-comments/uni-popup-comments.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-popup-comments.vue?vue&type=template&id=9da5e18a&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getGraceNumber(_vm.thisVlogTotalComentCounts)\n  var l0 = _vm.__map(_vm.commentList, function (commentContent, index) {\n    var $orig = _vm.__get_orig(commentContent)\n    var m1 = _vm.getGraceNumber(commentContent.likeCounts)\n    var m2 = _vm.getGraceDateBeforeNow(commentContent.createTime)\n    return {\n      $orig: $orig,\n      m1: m1,\n      m2: m2,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-popup-comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-popup-comments.vue?vue&type=script&lang=js&\"","<style lang=\"scss\" scoped>\n\t.uni-popup-share {\n\t\tbackground-color: #181717;\n\t\tborder-top-left-radius: 16rpx;\n\t\tborder-top-right-radius: 16rpx;\n\t}\n\t.uni-share-title {\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\theight: 40px;\n\t}\n\t.uni-share-title-text {\n\t\tfont-size: 12px;\n\t\tcolor: #ffffff;\n\t\tfont-weight: 500;\n\t}\n\t.uni-share-content {\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\t// flex-direction: row;\n\t\tflex-direction: column;\n\t\t// justify-content: center;\n\t\t// padding-top: 10px;\n\t}\n\n\t.uni-share-content-box {\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\twidth: 360px;\n\t}\n\n\t.uni-share-content-item {\n\t\twidth: 90px;\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tpadding: 10px 0;\n\t\talign-items: center;\n\t}\n\n\t.uni-share-content-item:active {\n\t\tbackground-color: #f5f5f5;\n\t}\n\n\t.uni-share-image {\n\t\twidth: 30px;\n\t\theight: 30px;\n\t}\n\n\t.uni-share-text {\n\t\tmargin-top: 10px;\n\t\tfont-size: 14px;\n\t\tcolor: #3B4144;\n\t}\n\n\t.uni-share-button-box {\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: row;\n\t\tpadding: 10px 15px;\n\t}\n\n\t.uni-share-button {\n\t\tflex: 1;\n\t\tborder-radius: 50px;\n\t\tcolor: #666;\n\t\tfont-size: 16px;\n\t}\n\n\t.uni-share-button::after {\n\t\tborder-radius: 50px;\n\t}\n\t\n\t.icon-close-left {\n\t\twidth: 20rpx;\n\t\theight: 20rpx;\n\t\tmargin-left: 30rpx;\n\t\topacity: 0;\n\t}\n\t.icon-close-right {\n\t\twidth: 22rpx;\n\t\theight: 22rpx;\n\t\tmargin-right: 30rpx;\n\t}\n\t\n\t.comment-wrapper {\n\t\t// height: 40px;\n\t\tpadding: 10px 10px 10px 10px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-around;\n\t}\n\t.commentWrapperBlack {\n\t\tbackground-color: #0e0d0d;\n\t}\n\t.commentWrapperWhite {\n\t\tbackground-color: #ffffff;\n\t}\n\t.comment-box {\n\t\tfont-size: 15px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tpadding: 0 18px 0 18px;\n\t}\n\t.commentBoxBlack {\n\t\tcolor: #FFFFFF;\n\t\tbackground-color: #151515;\n\t}\n\t.commentBoxWhite {\n\t\tcolor: #000000;\n\t\tbackground-color: #f2f2f5;\n\t}\n\t.comment-box-placeholder {\n\t\tfont-size: 15px;\n\t}\n\t.icon-comment {\n\t\twidth: 30px;\n\t\theight: 30px;\n\t}\n\t\n\t.all-comments {\n\t\theight: 800rpx;\n\t\t// padding: 16rpx 30rpx;\n\t}\n\t.img-face {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 100rpx;\n\t}\n\t.like-or-not {\n\t\tmargin-top: 16px;\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t}\n\t.comments-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.comments-wrapper-sub-up {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t}\n\t.comments-wrapper-sub-down {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tmargin-top: 2px;\n\t}\n\t.vlogger-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\t.tag-writer {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tbackground-color: #f02a50; \n\t\tborder-radius: 3px;\n\t\twidth: 30px;\n\t\theight: 16px;\n\t\tmargin-left: 2px;\n\t}\n\t.writer-words {\n\t\tfont-size: 26rpx;\n\t\tcolor: #FFFFFF;\n\t\ttext-align: center;\n\t}\n\t\n\t.single-comment-box {\n\t\tbackground-color: #181717;\n\t}\n\t.single-comment-box-touched {\n\t\tbackground-color: #202020;\n\t}\n\t.active {\n\t\tbackground-color: #202020;\n\t}\n</style>\n\n<template>\n\t<view class=\"uni-popup-share\">\n\t\t<view class=\"uni-share-title\">\n\t\t\t<image src=\"/static/images/icon-close.png\" class=\"icon-close-left\"></image>\n\t\t\t<text class=\"uni-share-title-text\">{{getGraceNumber(thisVlogTotalComentCounts)}}条评论</text>\n\t\t\t<image src=\"/static/images/icon-close.png\" class=\"icon-close-right\" @click=\"close\"></image>\n\t\t</view>\n\t\t<view class=\"uni-share-content\">\n\t\t\t<!-- <view class=\"uni-share-content-box\"> -->\n\t\t\t<view class=\"\" style=\"height: 800rpx;\"><!-- background-color: #0077AA; -->\n\t\t\t\t<scroll-view \n\t\t\t\t\tclass=\"all-comments\" \n\t\t\t\t\t:style=\"{width: screenWidth + 'px'}\" \n\t\t\t\t\tscroll-y=\"true\" \n\t\t\t\t\tlower-threshold=\"150\"\n\t\t\t\t\t@scrolltolower=\"loadMore\"\n\t\t\t\t\t:scroll-top=\"scrollTop\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(commentContent, index) in commentList\" \n\t\t\t\t\t\t:key=\"index\" \n\t\t\t\t\t\t:data-index=\"index\" \n\t\t\t\t\t\t:class=\"{active : index == activeIndex}\"\n\t\t\t\t\t\t@touchstart=\"touchstartComment(index)\"\n\t\t\t\t\t\t@touchend=\"touchendComment()\"\n\t\t\t\t\t\t@longpress=\"deleteComment(commentContent.commentUserId, commentContent.commentId)\">\n\t\t\t\t\t\t<view class=\"comments-wrapper\" style=\"margin-left: 16rpx;margin-top: 16rpx;margin-right: 16rpx;\">\n\t\t\t\t\t\t\t<view class=\"comments-wrapper-sub-up\" >\n\t\t\t\t\t\t\t\t<view class=\"vlogger-wrapper\">\n\t\t\t\t\t\t\t\t\t<image :src=\"commentContent.commentUserFace\" class=\"img-face\"></image>\n\t\t\t\t\t\t\t\t\t<view style=\"margin-left: 10px;width: 456rpx;\">\n\t\t\t\t\t\t\t\t\t\t<view style=\"display: flex;flex-direction: row;\">\n\t\t\t\t\t\t\t\t\t\t\t<text style=\"font-size: 30rpx;color: #878585;align-self: center;\">{{commentContent.commentUserNickname}}</text>\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"commentContent.vlogerId == thisVlogerId\" class=\"tag-writer\" style=\"align-self: center;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"writer-words\" style=\"align-self: center;\">作者</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"commentContent.replyedUserNickname != null  && commentContent.replyedUserNickname != ''\" \n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/static/images/icon-right-arrow3.png\" class=\"\" \n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"opacity: 0.8;width: 40rpx;height: 40rpx;margin-left: 16rpx;margin-right: 10rpx;align-self: center;\"></image>\n\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"commentContent.replyedUserNickname != null  && commentContent.replyedUserNickname != ''\" \n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-size: 30rpx;color: #878585;align-self: center;\">{{commentContent.replyedUserNickname}}</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<text style=\"font-size: 32rpx;color: #FFFFFF;margin-top: 2px;\">{{commentContent.content}}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view style=\"display: flex;flex-direction: column;width: 26px;\">\n\t\t\t\t\t\t\t\t\t<image v-if=\"commentContent.isLike == 1\" \n\t\t\t\t\t\t\t\t\t\tsrc=\"/static/images/icon-comment-like.png\" \n\t\t\t\t\t\t\t\t\t\tclass=\"like-or-not\" \n\t\t\t\t\t\t\t\t\t\tstyle=\"align-self: center;\"\n\t\t\t\t\t\t\t\t\t\t@click=\"unlike(commentContent.commentUserId, commentContent.commentId, index)\"></image>\n\t\t\t\t\t\t\t\t\t<image v-if=\"commentContent.isLike == 0\" \n\t\t\t\t\t\t\t\t\t\tsrc=\"/static/images/icon-comment-unlike.png\" \n\t\t\t\t\t\t\t\t\t\tclass=\"like-or-not\" \n\t\t\t\t\t\t\t\t\t\tstyle=\"align-self: center;\"\n\t\t\t\t\t\t\t\t\t\t@click=\"like(commentContent.commentUserId, commentContent.commentId, index)\"></image>\n\t\t\t\t\t\t\t\t\t<text style=\"font-size: 22rpx;color: #878585;align-self: center;\">{{getGraceNumber(commentContent.likeCounts)}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"comments-wrapper-sub-down\">\n\t\t\t\t\t\t\t\t<image src=\"/static/face/face-arrow-1.png\" class=\"img-face\" style=\"opacity: 0;\"></image>\n\t\t\t\t\t\t\t\t<text style=\"font-size: 30rpx;color: #878585;margin-left: 10px;\">{{getGraceDateBeforeNow(commentContent.createTime)}}</text>\n\t\t\t\t\t\t\t\t<text style=\"font-size: 30rpx;color: #878585;margin-left: 20px;\" @click=\"replyComment(commentContent.commentId, commentContent.commentUserNickname)\">回复</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- TODO: 判断总评论数和当前list中数量是否一致，如果一致，则显然如下 -->\n\t\t\t\t\t<view style=\"display: flex;flex-direction: row;justify-content: center;margin-top: 50rpx;height: 100rpx;\">\n\t\t\t\t\t\t<text style=\"color: #444446;font-size: 13px;\">{{bottomTxt}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t</scroll-view>\n\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 评论输入框 -->\n\t\t\t<view class=\"comment-wrapper\" \n\t\t\t\t:class=\"{commentWrapperBlack: commentWrapperBlack, commentWrapperWhite: commentWrapperWhite}\">\n\t\t\t\t<input \n\t\t\t\t\tclass=\"comment-box\" \n\t\t\t\t\t:class=\"{commentBoxBlack: commentBoxBlack, commentBoxWhite: commentBoxWhite}\"\n\t\t\t\t\tplaceholder-class=\"comment-box-placeholder\"\n\t\t\t\t\t:style=\"{width: screenWidth-70 + 'px'}\" \n\t\t\t\t\t:placeholder=\"placeholder\" \n\t\t\t\t\tcursor-spacing=\"10px\"\n\t\t\t\t\tv-model=\"currentComment\"\n\t\t\t\t\tconfirm-type=\"done\"\n\t\t\t\t\t:focus=\"commentFocus\"\n\t\t\t\t\t@focus=\"typingComment\"\n\t\t\t\t\t@blur=\"noTypingComment\">\n\t\t\t\t\t<!-- @confirm=\"doCommentPublish\" -->\n\t\t\t\t<view style=\"display: flex;flex-direction: column;justify-content: center;\">\n\t\t\t\t\t<image src=\"/static/images/icon-comment.png\" class=\"icon-comment\" @click=\"doCommentPublish()\"></image>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\t\t\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tvar app = getApp();\n\timport popup from '../uni-popup/popup.js'\n\texport default {\n\t\tname: 'UniPopupShare',\n\t\tmixins:[popup],\n\t\temits:['select'],\n\t\tprops: {\n\t\t\ttitle: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '分享到'\n\t\t\t},\n\t\t\tbeforeClose: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tthisVlogerId: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tthisVlogId: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcommentWrapperBlack: true,\n\t\t\t\tcommentWrapperWhite: false,\n\t\t\t\tcommentBoxBlack: true,\n\t\t\t\tcommentBoxWhite: false,\n\t\t\t\t// commentWrapperBlack: false,\n\t\t\t\t// commentWrapperWhite: true,\n\t\t\t\t// commentBoxBlack: false,\n\t\t\t\t// commentBoxWhite: true,\n\t\t\t\tscreenWidth: uni.getSystemInfoSync().screenWidth,\n\t\t\t\tcurrentComment: \"\",\n\t\t\t\tscrollTop: 0,\n\t\t\t\told: {\n\t\t\t\t\tscrollTop: 0\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t// commentTouched: false,\n\t\t\t\tactiveIndex: -1,\n\t\t\t\t\n\t\t\t\tbottomTxt: \"到底啦~深不？\",\n\t\t\t\tplaceholder: \"爱评论的人都是天使~\",\n\t\t\t\tcommentFocus: false,\n\t\t\t\tthisFatherCommentId: \"0\",\t// 用于标识当前的回复是否有父id，还是仅仅只是普通评论\n\t\t\t\t\n\t\t\t\tthisVlogTotalComentCounts: 0,\n\t\t\t\tloginUserId: \"\",\n\t\t\t\tpage: 0,\n\t\t\t\ttotalPage: 0,\n\t\t\t\tcommentCounts: 88,\n\t\t\t\tcommentList: [],\n\t\t\t\tcommentList2: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvlogerId: \"10011\",\n\t\t\t\t\t\tcommentUserNickname: \"慕课网 | 风间影月\",\n\t\t\t\t\t\tcommentUserFace: \"/static/face/face-arrow-1.png\",\n\t\t\t\t\t\tcontent: \"欢迎大家哈~~\",\n\t\t\t\t\t\tisLike:\t1,\n\t\t\t\t\t\tisOwner: 1,\n\t\t\t\t\t\tlikeCounts: 6006017,\n\t\t\t\t\t\tcreateTime: \"2021-08-18 15:20:35\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvlogerId: \"10012\",\n\t\t\t\t\t\tcommentUserNickname: \"绿箭侠 | 奥利弗·奎因\",\n\t\t\t\t\t\tcommentUserFace: \"/static/face/face-arrow-2.jpg\",\n\t\t\t\t\t\tcontent: \"欢迎大家我的课堂学习射箭，biu~biu~~\",\n\t\t\t\t\t\tisLike:\t1,\n\t\t\t\t\t\tisOwner: 0,\n\t\t\t\t\t\tlikeCounts: 8607,\n\t\t\t\t\t\tcreateTime: \"2021-08-20 13:20:35\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvlogerId: \"10013\",\n\t\t\t\t\t\tcommentUserNickname: \"喵星人·蝙蝠王\",\n\t\t\t\t\t\tcommentUserFace: \"/static/face/face-cat.png\",\n\t\t\t\t\t\tcontent: \"喵喵~喵喵咪~喵呜喵呜~喵喵~喵喵咪~喵呜喵，喵喵~喵喵咪~喵呜喵呜~~~\",\n\t\t\t\t\t\tisLike:\t0,\n\t\t\t\t\t\tisOwner: 0,\n\t\t\t\t\t\tlikeCounts: 66017,\n\t\t\t\t\t\tcreateTime: \"2020-09-10 20:20:20\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tconsole.log(\"comment...created...thisVlogId = \" + this.thisVlogId)\n\t\t\t\n\t\t\tvar me = this;\n\t\t\tvar myUserInfo = getApp().getUserInfoSession();\n\t\t\tvar userId = \"\";\n\t\t\tif (myUserInfo != null) {\n\t\t\t\tuserId = myUserInfo.id;\n\t\t\t}\n\t\t\tme.loginUserId = userId;\n\t\t\t\n\t\t\tthis.freshCommentCounts();\n\t\t\tthis.doCommentPagingList(this.page + 1, true);\n\t\t},\n\t\tmethods: {\n\t\t\tfreshCommentCounts() {\n\t\t\t\tvar me = this;\n\t\t\t\tvar vlogId = me.thisVlogId;\n\t\t\t\t\n\t\t\t\tvar serverUrl = app.globalData.serverUrl;\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\turl: serverUrl + \"/comment/counts?vlogId=\" + vlogId,\n\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.data.status == 200) {\n\t\t\t\t\t\t\tme.thisVlogTotalComentCounts = result.data.data;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tme.thisVlogTotalComentCounts = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (me.thisVlogTotalComentCounts == 0) {\n\t\t\t\t\t\t\tme.bottomTxt = \"抢一个沙发吧~\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tme.bottomTxt = \"到底啦~深不？\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tunlike(commentUserId, commentId, index) {\n\t\t\t\tvar me = this;\n\t\t\t\t\n\t\t\t\tvar serverUrl = app.globalData.serverUrl;\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theader: {\n\t\t\t\t\t\theaderUserId: me.loginUserId,\n\t\t\t\t\t\theaderUserToken: app.getUserSessionToken()\n\t\t\t\t\t},\n\t\t\t\t\turl: serverUrl + \"/comment/unlike?userId=\" + me.loginUserId + \"&commentId=\" + commentId,\n\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.data.status == 200) {\n\t\t\t\t\t\t\tme.reLikeCommentList(index, 0);\n\t\t\t\t\t\t\tme.reCountsCommentList(index, -1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: result.data.msg,\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tlike(commentUserId, commentId, index) {\n\t\t\t\tvar me = this;\n\t\t\t\t\n\t\t\t\tvar myUserInfo = getApp().getUserInfoSession();\n\t\t\t\tif (myUserInfo == null) {\n\t\t\t\t\tuni.showTabBar({\n\t\t\t\t\t\tanimation: false\n\t\t\t\t\t});\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\tduration: 3000,\n\t\t\t\t\t\ttitle: \"请登录~\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"../loginRegist/loginRegist\",\n\t\t\t\t\t\tanimationType: \"slide-in-bottom\",\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvar serverUrl = app.globalData.serverUrl;\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theader: {\n\t\t\t\t\t\theaderUserId: me.loginUserId,\n\t\t\t\t\t\theaderUserToken: app.getUserSessionToken()\n\t\t\t\t\t},\n\t\t\t\t\turl: serverUrl + \"/comment/like?userId=\" + me.loginUserId + \"&commentId=\" + commentId,\n\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.data.status == 200) {\n\t\t\t\t\t\t\tme.reLikeCommentList(index, 1);\n\t\t\t\t\t\t\tme.reCountsCommentList(index, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: result.data.msg,\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\treCountsCommentList(index, number) {\n\t\t\t\tvar me = this;\n\t\t\t\tvar commentList = me.commentList;\n\t\t\t\t\n\t\t\t\tcommentList[index].likeCounts = commentList[index].likeCounts + number;\n\t\t\t\tcommentList.splice(index, 1, commentList[index]);\n\t\t\t\t\n\t\t\t\tme.commentList = commentList;\n\t\t\t},\n\t\t\t\n\t\t\treLikeCommentList(index, isLike) {\n\t\t\t\tvar me = this;\n\t\t\t\tvar commentList = me.commentList;\n\t\t\t\t\n\t\t\t\tcommentList[index].isLike = isLike;\n\t\t\t\tcommentList.splice(index, 1, commentList[index]);\n\t\t\t\t\n\t\t\t\tme.commentList = commentList;\n\t\t\t},\n\t\t\t\n\t\t\tdeleteComment(commentUserId, commentId) {\n\t\t\t\tvar me = this;\n\t\t\t\tvar vlogId = me.thisVlogId;\n\t\t\t\t// console.log(\"deleteComment...deleteComment=\" + commentId);\n\t\t\t\t// 判断如果当前登陆者userId和评论的留言者id不同，不能删除\n\t\t\t\tif (commentUserId != me.loginUserId) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.showModal({\n\t\t\t\t    title: '提示',\n\t\t\t\t    content: '确认删除评论吗？',\n\t\t\t\t    success: function (res) {\n\t\t\t\t        if (res.confirm) {\n\t\t\t\t            // console.log('用户点击确定');\n\t\t\t\t\t\t\tvar serverUrl = app.globalData.serverUrl;\n\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\tmethod: \"DELETE\",\n\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\theaderUserId: commentUserId,\n\t\t\t\t\t\t\t\t\theaderUserToken: app.getUserSessionToken()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\turl: serverUrl + \"/comment/delete?commentUserId=\" + commentUserId + \"&commentId=\" + commentId + \"&vlogId=\" + vlogId,\n\t\t\t\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (result.data.status == 200) {\n\t\t\t\t\t\t\t\t\t\tme.doCommentPagingList(1, true);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: result.data.msg,\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tme.freshCommentCounts();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t            // console.log('用户点击取消');\n\t\t\t\t        }\n\t\t\t\t    }\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\tloadMore() {\n\t\t\t\tif (this.page == this.totalPage) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.doCommentPagingList(this.page + 1, false);\n\t\t\t},\n\t\t\t// 分页查询评论列表\n\t\t\tdoCommentPagingList(page, needClearList) {\n\t\t\t\t// 查询首页短视频列表\n\t\t\t\tvar me = this;\n\t\t\t\tme.page = page;\n\t\t\t\tvar vlogId = me.thisVlogId;\n\t\t\t\t// console.log(vlogId);\n\t\t\t\tvar serverUrl = app.globalData.serverUrl;\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\turl: serverUrl + \"/comment/list?vlogId=\" + vlogId + \"&userId=\" + me.loginUserId + \"&page=\" + page + \"&pageSize=10\",\n\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.data.status == 200) {\n\t\t\t\t\t\t\tvar commentList = result.data.data.rows;\n\t\t\t\t\t\t\tvar totalPage = result.data.data.total;\n\t\t\t\t\t\t\t// console.log(commentList);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (needClearList) {\n\t\t\t\t\t\t\t\tme.commentList = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tme.commentList = me.commentList.concat(commentList);\n\t\t\t\t\t\t\tme.totalPage = totalPage;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: result.data.msg,\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// 获得焦点，改变底部文本框颜色\n\t\t\ttypingComment() {\n\t\t\t\tthis.commentWrapperBlack = false;\n\t\t\t\tthis.commentWrapperWhite = true;\n\t\t\t\tthis.commentBoxBlack = false;\n\t\t\t\tthis.commentBoxWhite = true;\n\t\t\t\t\n\t\t\t\t// console.log(this.thisFatherCommentId);\n\t\t\t},\n\t\t\t// 失去焦点，改变底部文本框颜色\n\t\t\tnoTypingComment() {\n\t\t\t\tthis.commentWrapperBlack = true;\n\t\t\t\tthis.commentWrapperWhite = false;\n\t\t\t\tthis.commentBoxBlack = true;\n\t\t\t\tthis.commentBoxWhite = false;\n\t\t\t\t\n\t\t\t\tthis.thisFatherCommentId = \"0\";\t\t// 恢复默认的回复fatherId为“0”\n\t\t\t\tthis.commentFocus = false;\n\t\t\t\tthis.placeholder = \"爱评论的人都是天使~\";\n\t\t\t},\n\t\t\t\n\t\t\t// 回复他人的评论\n\t\t\treplyComment(commentId, commentUserNickname) {\n\t\t\t\tthis.thisFatherCommentId = commentId;\n\t\t\t\tthis.commentFocus = true;\n\t\t\t\tthis.placeholder = \"回复 @\" + commentUserNickname;\n\t\t\t\t// this.typingComment();\n\t\t\t},\n\t\t\t\n\t\t\t// 发布留言\n\t\t\tdoCommentPublish() {\n\t\t\t\tvar me = this;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvar myUserInfo = getApp().getUserInfoSession();\n\t\t\t\tif (myUserInfo == null) {\n\t\t\t\t\tuni.showTabBar({\n\t\t\t\t\t\tanimation: false\n\t\t\t\t\t});\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\tduration: 3000,\n\t\t\t\t\t\ttitle: \"请登录~\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"../loginRegist/loginRegist\",\n\t\t\t\t\t\tanimationType: \"slide-in-bottom\",\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (me.currentComment == null || me.currentComment == \"\" || me.currentComment == undefined) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请填入您的评论~\",\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tposition: \"bottom\"\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (me.currentComment.length > 50) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"评论字数限制50以内噢~\",\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tposition: \"bottom\"\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvar userId = myUserInfo.id;\n\t\t\t\tvar serverUrl = app.globalData.serverUrl;\n\t\t\t\t\n\t\t\t\tvar pendingCommentObject = {\n\t\t\t\t\tvlogId: me.thisVlogId,\n\t\t\t\t\tvlogerId: me.thisVlogerId,\n\t\t\t\t\tfatherCommentId: me.thisFatherCommentId,\n\t\t\t\t\tcommentUserId: userId,\n\t\t\t\t\tcontent: me.currentComment,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theader: {\n\t\t\t\t\t\theaderUserId: userId,\n\t\t\t\t\t\theaderUserToken: app.getUserSessionToken()\n\t\t\t\t\t},\n\t\t\t\t\turl: serverUrl + \"/comment/create\",\n\t\t\t\t\tdata: pendingCommentObject,\n\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.data.status == 200) {\n\t\t\t\t\t\t\tvar newCommentObject = result.data.data;\n\t\t\t\t\t\t\tnewCommentObject.commentId = newCommentObject.id;\n\t\t\t\t\t\t\tnewCommentObject.commentUserNickname = myUserInfo.nickname;\n\t\t\t\t\t\t\tnewCommentObject.commentUserFace = myUserInfo.face;\n\t\t\t\t\t\t\tnewCommentObject.isLike = 0;\n\t\t\t\t\t\t\t// newCommentObject.isOwner = 0;\n\t\t\t\t\t\t\t// if (me.thisVlogerId == userId) {\n\t\t\t\t\t\t\t// \tnewCommentObject.isOwner = 1;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tme.doCommentPagingList(1, true);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 评论/回复完毕后，回复thisFatherCommentId为“0”\n\t\t\t\t\t\t\tme.thisFatherCommentId = \"0\";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 把新评论添加到第一个位置，弱一致性，不需要从数据库里再去取\n\t\t\t\t\t\t\tme.commentList.unshift(newCommentObject);\n\t\t\t\t\t\t\t// 清空文本框\n\t\t\t\t\t\t\tme.currentComment = \"\";\n\t\t\t\t\t\t\t// 隐藏键盘\n\t\t\t\t\t\t\tuni.hideKeyboard();\n\t\t\t\t\t\t\t// 底部变色\n\t\t\t\t\t\t\tme.noTypingComment();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 把滚动list到第一个位置\n\t\t\t\t\t\t\tme.scrollTop = me.scrollTop + 1;\n\t\t\t\t\t\t\tme.$nextTick(()=>{\n\t\t\t\t\t\t\t\tme.scrollTop = 0 //赋值为0即代表返回顶部\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: result.data.msg,\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tme.freshCommentCounts();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\t// 把超过1000或10000的数字调整，比如1.3k/6.8w\n\t\t\tgetGraceNumber(num) {\n\t\t\t\treturn getApp().graceNumber(num);\n\t\t\t},\n\t\t\t// 时间显示 刚刚/xx小时前/...\n\t\t\tgetGraceDateBeforeNow(dateTimeStr) {\n\t\t\t\tvar date = app.dateFormat(\"YYYY-mm-dd\", new Date(dateTimeStr));\n\t\t\t\t// console.log(date);\n\t\t\t\treturn getApp().getDateBeforeNow(date);\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t/**\n\t\t\t * 选择内容\n\t\t\t */\n\t\t\tselect(item, index) {\n\t\t\t\tthis.$emit('select', {\n\t\t\t\t\titem,\n\t\t\t\t\tindex\n\t\t\t\t})\n\t\t\t\tthis.close()\n\t\t\t\t\n\t\t\t},\n\t\t\t/**\n\t\t\t * 关闭窗口\n\t\t\t */\n\t\t\tclose() {\n\t\t\t\tif(this.beforeClose) return\n\t\t\t\tthis.popup.close();\n\t\t\t\tuni.showTabBar({\n\t\t\t\t\tanimation: true\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\ttouchstartComment(index) {\n\t\t\t\t// this.commentTouched = true;\n\t\t\t\tthis.activeIndex = index;\n\t\t\t},\n\t\t\ttouchendComment() {\n\t\t\t\t// this.commentTouched = false;\n\t\t\t\tthis.activeIndex = -1;\n\t\t\t},\n\t\t}\n\t}\n</script>\n","import mod from \"-!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-popup-comments.vue?vue&type=style&index=0&id=9da5e18a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-popup-comments.vue?vue&type=style&index=0&id=9da5e18a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682675515756\n      var cssReload = require(\"D:/app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}